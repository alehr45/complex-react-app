"use strict";(self.webpackChunkcomplex_react_app=self.webpackChunkcomplex_react_app||[]).push([[758],{7758:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(7294),l=a(7898),n=a(9711),r=a(9669),c=a.n(r),o=a(5865),m=a(6168),u=a(3983),i=a(7564),d=a(1387),p=a(7062),f=a(2210);const h=function(){const{id:e}=(0,l.UO)(),[t,a]=(0,s.useState)(!0),[r,h]=(0,s.useState)(),E=(0,s.useContext)(i.Z),y=(0,s.useContext)(u.Z),g=(0,l.s0)();if((0,s.useEffect)((()=>{const t=c().CancelToken.source();return async function(){try{const s=await c().get(`/post/${e}`,{cancelToken:t.token});h(s.data),a(!1)}catch(e){console.log("There was a problem or the request was canceled.")}}(),()=>{t.cancel()}}),[e]),!t&&!r)return s.createElement(f.Z,null);if(t)return s.createElement(d.Z,{title:"..."},s.createElement(p.Z,null));const w=new Date(r.createdDate),N=`${w.getMonth()+1}/${w.getDate()}/${w.getFullYear()} `;return s.createElement(d.Z,{title:r.title},s.createElement("div",{className:"d-flex justify-content-between"},s.createElement("h2",null,r.title),!!E.loggedIn&&E.user.username==r.author.username&&s.createElement("span",{className:"pt-2"},s.createElement(n.rU,{to:`/post/${r._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.createElement("i",{className:"fas fa-edit"})),s.createElement(m.Z,{id:"edit",className:"custom-tooltip"})," ",s.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await c().delete(`/post/${e}`,{data:{token:E.user.token}})).data&&(y({type:"flashMessage",value:"Post was successfully deleted."}),g(`/profile/${E.user.username}`))}catch(e){console.log("There was a problem.")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},s.createElement("i",{className:"fas fa-trash"})),s.createElement(m.Z,{id:"delete",className:"custom-tooltip"}))),s.createElement("p",{className:"text-muted small mb-4"},s.createElement(n.rU,{to:`/profile/${r.author.username}`},s.createElement("img",{className:"avatar-tiny",src:r.author.avatar})),"Posted by ",s.createElement(n.rU,{to:`/profile/${r.author.username}`},r.author.username)," on ",N),s.createElement("div",{className:"body-content"},s.createElement(o.D,{children:r.body,allowedTypes:["paragraph","strong","emphasis","heading","list","listItem"]})))}}}]);